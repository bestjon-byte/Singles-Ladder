# Tennis Singles Ladder - User Guide

Welcome to the Tennis Singles Ladder! This guide will help you understand how the ladder works and make the most of all the app's features.

---

## Table of Contents

1. [What is the Singles Ladder?](#what-is-the-singles-ladder)
2. [Getting Started](#getting-started)
3. [Understanding Your Dashboard](#understanding-your-dashboard)
4. [How the Ladder System Works](#how-the-ladder-system-works)
5. [Challenging Other Players](#challenging-other-players)
6. [Understanding Wildcards](#understanding-wildcards)
7. [Managing Challenges](#managing-challenges)
8. [Playing Your Match](#playing-your-match)
9. [Submitting Match Scores](#submitting-match-scores)
10. [Disputing Match Results](#disputing-match-results)
11. [Notifications](#notifications)
12. [Your Profile Settings](#your-profile-settings)
13. [Tips and Best Practices](#tips-and-best-practices)
14. [Frequently Asked Questions](#frequently-asked-questions)

---

## What is the Singles Ladder?

The Tennis Singles Ladder is a competitive ranking system where tennis players can challenge each other to matches and climb up the ladder rankings. Unlike a traditional tournament, you can play matches at your own pace and challenge opponents whenever it suits both of you.

**Key Concept:** Players are ranked by position, with Position 1 being the top player. You can challenge players above you, and if you win, you take their position on the ladder!

---

## Getting Started

### Creating Your Account

1. Visit the app and click **Sign Up**
2. Enter your email address and create a password
3. Provide your name (this will be displayed on the ladder)
4. Optionally add your WhatsApp number for easier communication
5. Your account is created instantly - no email confirmation needed!

### Joining the Ladder

Once you've created your account, you'll need to wait for a ladder administrator to add you to the current season's ladder. Contact your club administrator to request access.

When added, you'll be assigned an initial position based on your skill level or at the bottom of the ladder.

---

## Understanding Your Dashboard

When you log in, your dashboard shows:

### Your Stats Card
- **Current Position:** Your rank on the ladder (lower number = higher rank)
- **Win Rate:** Percentage of matches you've won
- **Wildcards Remaining:** How many wildcard challenges you have left (explained later)

### Quick Actions
- **View Pending Challenges:** See challenges you need to respond to
- **Challenge a Player:** Quick access to make a new challenge
- **View Match History:** See all your past matches

### Alert Banners
- **Red Alert:** You have a pending challenge that needs your response!
- **Amber Alert:** You have an accepted challenge - time to play your match

---

## How the Ladder System Works

### The Basic Rules

The ladder is simple but strategic:

1. **You can only challenge players ABOVE you** on the ladder (never below)
2. **Normal challenges** let you challenge players 1-2 positions above you
3. **Wildcard challenges** let you challenge ANY player above you (but use a wildcard)
4. **If you win your challenge match**, you take your opponent's position
5. **If you lose**, positions stay the same

### Position Changes Explained

Here's what happens when you WIN a challenge match:

**Example:** You're at Position 5 and challenge Position 2

**Before the match:**
- Position 1: Alice
- Position 2: Bob ‚Üê (you're challenging)
- Position 3: Carol
- Position 4: David
- Position 5: You ‚Üê (challenger)

**After you WIN:**
- Position 1: Alice (unchanged)
- Position 2: You ‚Üê (moved up from 5!)
- Position 3: Bob (shifted down from 2)
- Position 4: Carol (shifted down from 3)
- Position 5: David (shifted down from 4)

**Important Details:**
- You take the challenged player's exact position
- Everyone between your old and new position shifts down by one
- Players above and below this range are unaffected
- If you LOSE, nobody moves - all positions stay the same

### Player Locking

**While you have an active challenge (pending or accepted), you are "locked":**
- You cannot create new challenges
- Other players cannot challenge you
- You'll see an "In Challenge" badge next to your name

**You become unlocked when:**
- The challenge is withdrawn
- The challenge is rejected
- The match is completed and scored

This prevents scheduling conflicts and ensures fair play.

---

## Challenging Other Players

### Creating a Challenge

1. Click **"Challenge a Player"** from your dashboard or navigate to the ladder
2. Find a player you want to challenge (they must be above you)
3. Click **"Challenge"** next to their name
4. Fill in the challenge details:
   - **Proposed Date:** When you'd like to play
   - **Proposed Time:** What time works for you
   - **Location:** Where you'd like to play (e.g., "Club Courts 1-2")
   - **Notes (optional):** Any additional information

5. Decide if you need a **wildcard**:
   - If challenging positions 1-2 above you: **Normal challenge** (no wildcard needed)
   - If challenging 3+ positions above: **Wildcard challenge** (uses one of your wildcards)

6. Click **"Send Challenge"**

**What happens next:**
- The challenged player receives an email notification
- They also see an in-app notification
- The challenge appears as "Pending" in your challenges list
- **Both of you are now locked** from other challenges

### Challenge Negotiation (Current System)

**Important:** The current system is simplified - there is no back-and-forth negotiation feature.

When you send a challenge:
- The challenged player can **Accept** (agrees to your proposed date/time/location)
- Or they can **Reject** (declines the challenge)

If they reject, you'll need to:
- Create a new challenge (if you want to try again)
- Coordinate offline (WhatsApp, phone, etc.) to agree on details first
- Then submit a new challenge with agreed details

**Tip:** Use WhatsApp to discuss and agree on match details before creating the challenge in the app. This increases the chance of acceptance!

---

## Understanding Wildcards

### What are Wildcards?

Wildcards are special tokens that allow you to challenge players MORE than 2 positions above you.

**Default allocation:** Each player gets **2 wildcards per season**

### When to Use Wildcards

**Normal Challenge (No wildcard needed):**
- You're Position 7 ‚Üí Can challenge Positions 5 or 6

**Wildcard Challenge (Requires 1 wildcard):**
- You're Position 7 ‚Üí Can challenge Positions 1, 2, 3, or 4

### Important Wildcard Rules

1. **Wildcards are consumed when you CREATE a challenge** (not when it's accepted)
2. **Wildcards are NOT refunded** if:
   - The challenged player rejects your challenge
   - You withdraw the challenge
   - The challenge is cancelled for any reason

3. **Use them strategically!** You only get 2 per season, so:
   - Make sure you have a good chance of winning
   - Coordinate offline first to ensure the player will accept
   - Consider challenging the top players when you're confident in your game

### Checking Your Wildcards

- View remaining wildcards on your dashboard stats card
- The system will warn you if creating a challenge requires a wildcard
- You cannot create a wildcard challenge if you have 0 remaining

---

## Managing Challenges

### Challenges You've Sent

**Status: Pending**
- Waiting for the other player to accept or reject
- You can **withdraw** the challenge if needed
- Click "Withdraw Challenge" to cancel it

**Status: Accepted**
- The match is confirmed!
- Coordinate with your opponent to play the match
- After playing, submit the score (either player can submit)

### Challenges You've Received

You'll receive an email and in-app notification. Here are your options:

**Option 1: Accept**
- You agree to the proposed date, time, and location
- Click **"Accept Challenge"**
- The match is now scheduled - both players are notified
- Play the match and submit scores afterward

**Option 2: Reject**
- You cannot play or disagree with the details
- Click **"Reject Challenge"**
- The challenger is notified
- You can discuss offline and they may send a new challenge

**Option 3: Withdraw (if you created it)**
- Only the original challenger can withdraw
- Can be done even after acceptance (but be courteous!)
- Click **"Withdraw Challenge"**

### Using WhatsApp for Communication

Each challenge has a **"Share via WhatsApp"** button that creates a pre-formatted message:

```
üéæ Tennis Ladder Challenge

Hi [Player Name]!

I'd like to challenge you to a match:
üìÖ Date: [Your proposed date]
üìç Location: [Your proposed location]

Accept or propose a new time here: [Link to app]
```

This makes it easy to:
- Notify players who may not check the app often
- Discuss details before formalizing in the app
- Coordinate match timing

---

## Playing Your Match

### Before the Match

1. **Confirm details** with your opponent (date, time, location)
2. **Bring tennis balls** (coordinate who brings them)
3. **Arrive on time** and warmed up
4. **Keep score** during your match

### Match Format

All matches are **best of 3 sets**:
- First player to win 2 sets wins the match
- Standard tennis scoring applies
- If you split the first two sets (1-1), you must play a third set

### Third Set Format (Optional)

You can play the third set as:
- **Full Set:** Traditional set to 6 games (with tiebreak at 6-6)
- **Match Tiebreak:** First to 10 points (win by 2)

The app allows you to record either format.

### After the Match

**Either player can submit the score** - you don't need to do it together. The app will automatically:
- Calculate the winner based on sets won
- Update ladder positions (if the challenger won)
- Send notifications to both players
- Unlock both players for new challenges

---

## Submitting Match Scores

### How to Submit Scores

1. Navigate to **"My Matches"** or find the match in your challenges
2. Click **"Submit Score"** on the completed match
3. Enter the scores for each set:
   - **Set 1:** Your score and opponent's score (e.g., 6-4)
   - **Set 2:** Your score and opponent's score (e.g., 3-6)
   - **Set 3 (if played):** Your score and opponent's score
   - **Third Set Type:** Select "Full Set" or "Tiebreak"

4. Click **"Submit Score"**

### What the App Does Automatically

- **Calculates the winner** (whoever won 2+ sets)
- **Updates ladder positions** (if challenger won)
- **Sends notifications** to both players with:
  - Final score
  - Winner announcement
  - Position changes (if any)
- **Unlocks both players** so you can challenge others
- **Records the match** in your history

### Validation Rules

The app will prevent invalid scores:
- You must enter scores for at least 2 sets
- The winner must have won 2 or more sets
- Scores must be realistic tennis scores (0-7 per set)

### Score Display Format

Scores are shown as: **6-4, 3-6, 7-5**
- Each set separated by commas
- Winner's score shown first in each set
- Tiebreak sets may show as 7-6 or 10-8 (match tiebreak)

---

## Disputing Match Results

### When to Dispute

Dispute a match if:
- The submitted score is incorrect
- You and your opponent disagree on the result
- There was a scoring error during the match

**Note:** Disputes should be rare and used only for genuine errors, not because you're unhappy with the result!

### How to Dispute

1. Navigate to the completed match
2. Click **"Dispute Result"**
3. Provide a brief explanation of the dispute
4. Submit the dispute

### What Happens Next

1. The match is marked as **"Disputed"**
2. An administrator is notified
3. The admin will contact both players to understand the situation
4. The admin can:
   - **Confirm the original score** (dispute dismissed)
   - **Change the score** (enters correct score)

### Dispute Resolution Effects

If the admin changes the score AND the winner changes:
- **Ladder positions are rolled back** to before the match
- **New positions are calculated** based on the corrected result
- **Both players are notified** of the resolution
- **Match history reflects** the corrected score

**Important:** The system fully handles position rollbacks, ensuring the ladder is always accurate even if scores are corrected days later.

---

## Notifications

The app keeps you informed through multiple channels:

### In-App Notifications

**Bell Icon in Navigation:**
- Shows a red badge with the number of unread notifications
- Click to see a dropdown with your 5 most recent notifications

**Notification Center:**
- Access via the bell icon or navigate to `/notifications`
- Shows all notifications (unread and read)
- Click **"Mark as Read"** or **"Mark All as Read"**
- Auto-refreshes every 30 seconds

**You'll receive notifications for:**
- Someone challenged you
- Your challenge was accepted
- Your challenge was rejected
- A challenge was withdrawn
- Match score was submitted
- Dispute updates (future feature)

### Email Notifications

All important events trigger an email to your registered email address:
- Professional HTML-formatted emails
- Include all relevant details (dates, scores, positions)
- Direct links to accept/reject challenges or view results

**To disable email notifications:**
- Go to your profile settings
- Toggle "Email Notifications" off

### WhatsApp Integration

The app doesn't send automated WhatsApp messages, but provides tools to share information:

**Share Challenge Button:**
- Generates a pre-formatted WhatsApp message
- Includes all challenge details and a link to the app
- Click to open WhatsApp or copy to clipboard

**To disable WhatsApp sharing:**
- Go to your profile settings
- Toggle "WhatsApp Notifications" off (hides the share buttons)

---

## Your Profile Settings

### Accessing Your Profile

Click your name/avatar in the top navigation ‚Üí **"Profile"**

### Profile Information

**Display Name:**
- This appears on the ladder and in challenges
- Keep it professional and recognizable

**Email Address:**
- Used for notifications and login
- Cannot be changed (contact admin if needed)

**WhatsApp Number:**
- Optional but recommended
- Enables easy communication with opponents
- Format: Include country code (e.g., +1234567890)

### Notification Preferences

**Email Notifications:**
- Toggle on/off to control email alerts
- Recommended: Keep ON so you don't miss challenges

**WhatsApp Notifications:**
- This doesn't send automated WhatsApp messages
- Controls whether "Share via WhatsApp" buttons appear
- Recommended: Keep ON for easier opponent communication

### Viewing Your Stats

Your profile shows:
- Total matches played
- Wins and losses
- Current win rate
- Current ladder position
- Wildcards remaining this season

---

## Tips and Best Practices

### Maximizing Your Success

1. **Communicate Before Challenging**
   - Use WhatsApp to discuss dates/times before creating a challenge
   - This increases acceptance rates and avoids wasted wildcards

2. **Be Strategic with Wildcards**
   - Don't waste them on risky challenges
   - Save at least one for a strategic move later in the season
   - Remember: They're NOT refunded if rejected

3. **Play Regularly**
   - You can only have one active challenge at a time
   - Complete matches promptly to stay active
   - Don't let accepted challenges sit for weeks

4. **Be a Good Sport**
   - Accept challenges when possible (keeps the ladder active)
   - Submit scores accurately and promptly
   - Only dispute scores for genuine errors

5. **Check Notifications Frequently**
   - Enable email notifications
   - Check the app regularly for pending challenges
   - Respond to challenges within a few days

### Understanding Player Behavior

**"Locked" Players:**
- Cannot challenge or be challenged
- Have an active pending or accepted challenge
- Wait until their match is complete

**Inactive Players:**
- May show on the ladder but aren't actively playing
- Admins may remove inactive players mid-season

**Top Players:**
- Receive more challenges (everyone wants to beat them!)
- May be more selective about accepting challenges
- Use wildcards strategically to challenge them

---

## Frequently Asked Questions

### General Questions

**Q: Can I challenge someone below me on the ladder?**
A: No. You can only challenge players above you. This is a core rule of ladder systems.

**Q: What if I'm at Position 1?**
A: Congratulations! You can't challenge anyone, but you'll need to defend your position against challenges from below.

**Q: Can I have multiple active challenges?**
A: No. You're "locked" into one challenge at a time. Complete or withdraw your current challenge before starting a new one.

**Q: How many matches can I play per season?**
A: There's no limit! Play as many as you want. More matches = more opportunities to climb.

### Challenge Questions

**Q: What if someone rejects my challenge?**
A: You're unlocked and can challenge someone else. If you used a wildcard, it's consumed and not refunded.

**Q: Can I withdraw a challenge after it's been accepted?**
A: Yes, but this is discouraged. Be courteous and only withdraw if absolutely necessary (injury, emergency, etc.).

**Q: What if we can't agree on a date/time?**
A: Unfortunately, the current system doesn't support back-and-forth negotiation. Coordinate offline (WhatsApp/phone) first, then create a challenge with agreed details.

**Q: Do wildcards reset each season?**
A: Yes! You get a fresh allocation of wildcards (default: 2) at the start of each new season.

### Match Questions

**Q: Who brings the tennis balls?**
A: This is not managed by the app. Coordinate with your opponent before the match.

**Q: What if we disagree on the score?**
A: Discuss it immediately after the match. If you can't agree, either player can submit what they believe is correct, and the other can dispute it.

**Q: Can we play a different format (e.g., pro set)?**
A: The app is designed for best-of-3 sets. If you want to play differently, you'll need to convert the result to a 3-set format for submission.

**Q: What if the match is interrupted by weather?**
A: Coordinate with your opponent to reschedule. The challenge stays active until you complete and submit scores.

### Position Questions

**Q: How often can my position change?**
A: Every time you win a challenge match. If you lose, your position stays the same.

**Q: Can the admin manually change positions?**
A: Yes, admins can add/remove players which shifts positions. This is rare and usually done for administrative reasons.

**Q: What if I need to leave the ladder temporarily?**
A: Contact your admin to be removed. You can be added back later, but may start at a different position.

**Q: Do playoff matches affect ladder positions?**
A: No. Only regular season challenge matches change ladder positions. Playoffs are separate.

### Technical Questions

**Q: I didn't get an email notification. What happened?**
A: Check your spam folder, or verify your email notification setting is ON in your profile.

**Q: The app isn't updating. Help!**
A: Try refreshing the page. The app auto-refreshes every 30 seconds, but you can force it manually.

**Q: Can I use the app on my phone?**
A: Yes! The app is fully optimized for mobile devices. Use it at the courts to submit scores right after your match.

**Q: How do I reset my password?**
A: Click "Forgot Password" on the login page and follow the email instructions.

---

## Need More Help?

### Contact Your Administrator

For issues related to:
- Joining the ladder
- Disputes that need resolution
- Technical problems with the app
- Questions about your club's specific rules

### Report Bugs or Issues

If you encounter technical problems, contact your club administrator or the app developer with:
- A description of what happened
- When it happened
- What you were trying to do
- Screenshots (if applicable)

---

## Glossary of Terms

**Challenge:** A match proposal from one player to another

**Challenger:** The player who creates the challenge (must be lower on ladder)

**Challenged Player:** The player being challenged (must be higher on ladder)

**Normal Challenge:** Challenge to someone 1-2 positions above (no wildcard needed)

**Wildcard Challenge:** Challenge to someone 3+ positions above (requires wildcard)

**Wildcard:** A special token allowing challenges beyond the normal 2-position limit

**Player Locking:** Being unable to challenge or be challenged due to an active challenge

**Pending Challenge:** A challenge waiting for the challenged player to accept/reject

**Accepted Challenge:** A confirmed match that needs to be played and scored

**Match Fixture:** The scheduled match created when a challenge is accepted

**Ladder Position:** Your rank on the ladder (1 = highest, higher numbers = lower rank)

**Position Shift:** When players move up or down the ladder after a challenge result

**Dispute:** A formal challenge to a submitted match score

**Season:** A period of ladder play, typically several months long

**Playoffs:** End-of-season tournament for top players (separate from regular ladder)

**RLS (Row Level Security):** Database security ensuring players only see appropriate data

**Soft Delete:** When a player is removed but their history is preserved

---

**Enjoy your Tennis Singles Ladder experience! May the best player win! üéæ**
